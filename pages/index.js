import React from "react";
import ReactDOM from "react-dom";

import Head from 'next/head'
import Image from 'next/image'
import Navbar from '../components/Navbar';
import KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';
import NavbarTop from '../components/NavbarTop';



const images = [

  {
    id:1,
    type:'car',
    name:'Model 3',
    detail:"Order Online for Touchless Delivery",
    buttonL:'CUSTOM ORDER',
    buttonR:'EXISTING INVENTORY',
    imgPath:`https://images.unsplash.com/photo-1626668893632-6f3a4466d22f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2072&q=80`
  },
  {
    id:2,
    type:'car',
    name:'Model Y',
    detail:"Order Online for Touchless Delivery",
    buttonL:'CUSTOM ORDER',
    buttonR: 'EXISTING INVENTORY',
    imgPath: `https://images.unsplash.com/photo-1533106418989-88406c7cc8ca?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80`
  },
  {
    id:3,
    type:'car',
    name:'Model X',
    detail:"Order Online for Touchless Delivery",
    buttonL:'CUSTOM ORDER',
    buttonR:'EXISTING INVENTORY',
    imgPath: `https://images.unsplash.com/photo-1542282088-fe8426682b8f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1887&q=80`
  },  
  {
    id:4,
    type:'car',
    name:'Model S',
    detail:"Order Online for Touchless Delivery",
    buttonL:'CUSTOM ORDER',
    buttonR:'EXISTING INVENTORY',
    imgPath:`https://images.unsplash.com/photo-1633507104426-f2be1293f5a2?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1906&q=80`
  },
  {
    id:5,
    type:'solar',
    name:'Solar Panels',
    detail:"Lowest Cost Solar Panels in America",
    buttonL:'ORDER NOW',
    buttonR:'LEARN MORE',
    imgPath:`https://images.unsplash.com/flagged/photo-1566838616631-f2618f74a6a2?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1887&q=80`
  },
  {
    id:6,
    type:'solar',
    name:'Solar Roof',
    detail:'Produce Clean Energy From Your Roof',
    buttonL:'ORDER NOW',
    buttonR:'LEARN MORE',
    imgPath:`https://images.unsplash.com/photo-1637417494521-78b4d1d33029?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80`
  },
  {
    id:7,
    type:'accessories',
    name:'Accessories',
    detail:'',
    buttonL:'SHOP NOW',
    buttonR:'',
    imgPath:`https://images.unsplash.com/photo-1593941707882-a5bba14938c7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1172&q=80`

  }
 
]

function FadeInSection(props){

  const [isVisible,setVisible] = React.useState(false);
  const domRef = React.useRef();
  React.useEffect(()=>{
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => setVisible(entry.isIntersecting));
    });
    observer.observe(domRef.current);
  }, []);
  return (
    <div
      className={`fade-out-section ${isVisible ? 'is-hidden' : `fade-in-section ${isVisible ? 'is-Hidden' : 'is-visible'}`}}`}
      ref={domRef}
    >
      {props.children}
    </div>
  );
}



export default function Home() {


  return (
    <div>
     <div>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
     </div>
     <div className="fixed z-500 w-[100%]"> 
        <div className="bg-white z-900">
            <NavbarTop/>
        </div>
        <div><Navbar /></div>
     </div>
     <div>
      {images.map((image)=>(
      
       <div key={image.id} className="relative w-[100%] h-[50rem]"> 
       
        <Image
          src={image.imgPath}
          position="relative"
          layout="fill"
          className="object-cover relative z-[-10]"
          alt=""
        />

       <FadeInSection> 
        <div className="absolute z-[-10] w-[100%] text-white 
          h-[50rem]"> 
          <div className="top-[30%] h-[50rem]">
              
              <div className="flex flex-col items-center 
                  justify-center w-[100%] h-[17rem] space-y-2">      
                    <div className="flex flex-col items-center pt-[5rem] justify-center space-y-2">
                      <div className={image.type === "solar" ? "font-semibold text-5xl text-gray-600 tracking-[0.05rem]" : "font-semibold text-5xl tracking-[0.05rem]"}>
                        {image.name}
                      </div>                   
                      <div className={`${image.type === "solar" ? "font-medium text-gray-600" : "font-medium"} ${image.type === "car" ? "underline" : ""}`}>
                        {image.detail}
                      </div>   
                    </div>
                    <div className="flex flex-col absolute w-[100%]
                      justify-end items-center h-[70rem]">

                        <div className="xs:flex xs:flex-col sm:flex sm:space-x-6 sm:pb-10">
                          <div className="w-[17rem] h-[2.5rem] bg-gray-700 rounded-full 
                            border font-bold text-[13px] flex justify-center flex-col items-center">
                              <div>{image.buttonL}</div>
                          </div>
                          <div className={image.id === 7 ? "hidden" : `w-[17rem] h-[2.5rem] rounded-full border border-black
                            bg-gray-300 text-black font-bold text-[13px] 
                            flex justify-center flex-col items-center`}>
                              <div>{image.buttonR}</div>
                          </div>
                        </div> 
                    
                        <div className={image.id === 1 ? "visible scale-[180%]" : "hidden"}>
                                      <KeyboardArrowDownIcon/>
                        </div>
                    </div>
              </div> 

            
          </div> 
        </div> 
       </FadeInSection> 
       </div>    
      ))}
     </div>  
  
    </div>
     
  );
}
