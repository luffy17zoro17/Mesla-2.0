import React, {useState} from "react";
import Head from 'next/head'
import Image from 'next/image'
import Navbar from '../components/Navbar/Navbar';
import KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';

import Menu from "../components/RightSlideBar/Menu";
import BgBlur from "../components/BgBlur";

import CancelPresentationIcon from '@mui/icons-material/CancelPresentation';
import NavbarTop from "../components/Navbar/NavbarTop";






const images = [

  {
    id:1,
    type:'car',
    name:'Model 3',
    detail:"Order Online for Touchless Delivery",
    buttonL:'CUSTOM ORDER',
    buttonR:'EXISTING INVENTORY',
    imgPath:`https://images.unsplash.com/photo-1626668893632-6f3a4466d22f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2072&q=80`,
  
  },
  {
    id:2,
    type:'car',
    name:'Model Y',
    detail:"Order Online for Touchless Delivery",
    buttonL:'CUSTOM ORDER',
    buttonR: 'EXISTING INVENTORY',
    imgPath: `https://images.unsplash.com/photo-1533106418989-88406c7cc8ca?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80`,
  
  },
  {
    id:3,
    type:'car',
    name:'Model X',
    detail:"Order Online for Touchless Delivery",
    buttonL:'CUSTOM ORDER',
    buttonR:'EXISTING INVENTORY',
    imgPath: `https://images.unsplash.com/photo-1558992658-08a063bb01af?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80`,
    
  },  
  {
    id:4,
    type:'car',
    name:'Model S',
    detail:"Order Online for Touchless Delivery",
    buttonL:'CUSTOM ORDER',
    buttonR:'EXISTING INVENTORY',
    imgPath:`https://images.unsplash.com/photo-1633507104426-f2be1293f5a2?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1906&q=80`,
  },
  {
    id:5,
    type:'solar',
    name:'Solar Panels',
    detail:"Lowest Cost Solar Panels in America",
    buttonL:'ORDER NOW',
    buttonR:'LEARN MORE',
    imgPath:`https://images.unsplash.com/flagged/photo-1566838616631-f2618f74a6a2?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1887&q=80`,
    footer:''
  },
  {
    id:6,
    type:'solar',
    name:'Solar Roof',
    detail:'Produce Clean Energy From Your Roof',
    buttonL:'ORDER NOW',
    buttonR:'LEARN MORE',
    imgPath:`https://images.unsplash.com/photo-1637417494521-78b4d1d33029?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80`,
    
  },
  {
    id:7,
    type:'accessories',
    name:'Accessories',
    detail:'',
    buttonL:'SHOP NOW',
    buttonR:'',
    imgPath:`https://images.unsplash.com/photo-1593941707882-a5bba14938c7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1172&q=80`,
    

  }
 
]




function FadeInSection(props){

  const [isVisible,setVisible] = React.useState(false);
  const domRef = React.useRef();
  React.useEffect(()=>{
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => setVisible(entry.isIntersecting));
    });
    observer.observe(domRef.current);
  }, []);
  return (
    <div
      className={`fade-in-section ${isVisible ? "is-hidden": ""}`}
      ref={domRef}
    >
      {props.children}
    </div>
  );
}




export default function Home() {

  const [isShow,setIsShow] = useState(false);


  const handleToggle = () => {

     setIsShow(!isShow);
  }


  return (
  <>
    <Head>
        <title>Mesla Auto</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
        <link rel="icon" href="https://iconarchive.com/download/i54293/crountch/one-piece-jolly-roger/Luffys-flag.ico" />
    </Head>
   
  
    
     <NavbarTop/>
     <div className="sticky top-0 right-0 z-30">
       <Navbar/>
     </div> 
   
    
    
    
    
   <button onClick={handleToggle} className={`px-4 pb-0.5
    fixed z-30 right-4 top-[4.47rem] shadow-md shadow-violet-300 text-white
      font-mono font-bold
      opacity-[0.9rem] rounded-lg hover:text-cyan-300
      cursor-pointer 
      m-3 xl:bg-transparent text-white shadow shadow-red-500
      xl:shadow-green-300 hover:shadow hover:shadow-violet-600`}>
        Menu
    </button>
    {isShow ?
  
           (
               <div>                      
                <Menu/>
                <BgBlur/> 
                  
                
                <button onClick={handleToggle} className="fixed z-50 top-7 right-11">
                   <CancelPresentationIcon 
                     className="text-white p-[0.2rem]
                    hover:bg-gray-600 rounded scale-[1.5]"/>
                </button>
            
               </div>
    ) : (<div></div>)}

    <section className={isShow ? `overflow-y-hidden fixed h-[100%] w-[100%]` 
    : ``}>
    
    <div className="w-[100%]">      
      {images.map(({id,name,detail,imgPath,buttonL,buttonR,type})=>(
    
    <div key={id} className="snap-center relative
     z-10 h-screen w-[100%]">
        
            <Image
                src={imgPath}
                layout="fill"
                className={id===1 ? "rounded-t-lg object-cover" : 
                "object-cover w-[100%]"}
                alt=""
            />   
           
            
    <FadeInSection className=""> 
        
    <div className="py-[6.5rem] fixed top-[13%] z-20 w-[100%] text-center">
                    <div>
                        <div className={type === "solar" || id===3 ? 
                        `font-semibold text-4xl z-30 
                         text-gray-600 tracking-[0.05rem]`
                        : `font-semibold text-4xl tracking-[0.05rem]
                         text-white z-30`}>
                          {name}
                        </div>                   
                        <div className={`${type === "solar" || id===3 ? 
                        `shadow-md shadow-white font-medium text-gray-600` 
                        : "font-medium text-white shadow-md shadow-green-300"}
                         ${type === "car" ? `underline cursor-pointer py-2 
                        ` : "py-2"}`}>
                          {detail}
                        </div>  
                     </div>   
    </div>
                                        
                        
    <div className="text-center w-[100%] top-[66%] fixed flex justify-center">
                          <div className="
                           w-[22rem] sm:w-[26rem] md:flex md:justify-center 
                            md:gap-[6vmin] md:w-[75%]">    
                            <div className="cursor-pointer
                              opacity-[0.7] text-white bg-gray-700 border 
                              rounded-3xl py-[0.9rem] text-[13px] shadow-xl shadow-black
                              font-bold mb-2 hover:opacity-100 md:w-[22rem] md:py-[1rem]">
                                {buttonL}
                            </div>             
                            <div className={id === 7 ? "hidden" : `cursor-pointer shadow-xl
                             shadow-black
                              text-[13px] font-bold opacity-[0.8] bg-gray-300 rounded-3xl mb-2
                              py-[0.9rem] hover:opacity-100
                              md:w-[22rem] md:py-[1rem]`}>
                                {buttonR}
                            </div>                       
                          </div>
                          
    </div>  
    <div className={id === 1 ? `
          cursor-pointer fixed mt-[3rem] flex w-[100%] top-[80%] justify-center 
           lg:top-[74%]` : "hidden"}>    
          <KeyboardArrowDownIcon
            className="mt-[5%] text-4xl text-cyan-500 scale-[2] shadow-xl shadow-black
             hover:text-green-200 hover:shadow-red-500"
          />       
    </div> 

    <div className={id===7 ? `bg-white text-gray-800 fixed w-[100%]
                   z-20 bottom-0 right-0 
                   w-[100%] text-center text-[0.75rem] 
                   flex-wrap font-semibold pb-1 tracking-wide sm:tracking-wider
                   lg:tracking-widest`: "hidden"}> 

                   <div className="bg-white shadow shadow-black
                    md:flex justify-center">
                     Mesla Â© 2022&nbsp;&nbsp;&nbsp;Privacy & Legal
                     &nbsp;&nbsp;&nbsp;Vehicle Recalls&nbsp;&nbsp;&nbsp;Contact
                     &nbsp;&nbsp;&nbsp;Careers&nbsp;&nbsp;&nbsp;News 
                     <h1 className="hidden sm:flex justify-center">
                       &nbsp;&nbsp;&nbsp;Engage Locations
                      </h1>
                   </div>
    </div>
                
      
    </FadeInSection> 
         
    </div> 
          
    ))}
    </div>
    </section>
  
    
  </>
    
  );
}


